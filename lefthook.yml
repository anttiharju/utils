output:
  - success
  - failure

pre-commit:
  jobs:
    - name: ShellCheck
      run: |
        for file in {staged_files}; do
          (cd "$(dirname "$file")" && shellcheck --color=always -x "$(basename "$file")")
        done
      glob: "{scripts/*,*.sh}"

    - name: Prettier
      run: npx --yes prettier --write .
      glob: "*{.md,.yml,.json}"
      stage_fixed: true

    - name: EditorConfig
      run: git ls-files -z | npx --yes editorconfig-checker
